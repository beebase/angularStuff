<style>
  .completed {
    text-decoration : line-through;
  }
</style>

<div layout="column"
     ng-controller="LocalJsonCtrl as vm">

  <div layout="row"
       layout-align="center center"
       layout-padding>

    <md-whiteframe class="md-whiteframe-10dp"
                   flex="60">
      <md-toolbar>
        <div class="md-toolbar-tools">
          <p>New Todo</p>
          <span flex></span>
          <md-button class="md-fab md-mini"
                     ng-click="vm.addTodo()">
            <md-icon class="mdi mdi-plus mdi-24px"></md-icon>
          </md-button>
        </div>
      </md-toolbar>

      <div layout="row"
           layout-padding>
        <md-input-container flex>
          <label>New todo</label>
          <input ng-model="vm.currentTodo">
        </md-input-container>
      </div>

    </md-whiteframe>

  </div>

  <div layout="row"
       layout-align="center center"
       layout-padding>

    <md-whiteframe class="md-whiteframe-10dp"
                   flex="60">
      <md-toolbar>
        <div class="md-toolbar-tools">
          <p>Todo list ({{vm.uncompletedTodos()}}/{{vm.completedTodos()}})</p>
        </div>
      </md-toolbar>

      <md-list flex>
        <md-list-item>
          <div flex
               layout="row"
               layout-align="center center">
            <div>-</div>
            <div>Description</div>
            <div>Date</div>
            <div>-</div>
          </div>
        </md-list-item>
        <md-list-item ng-repeat="todo in vm.todos">

          <div flex
               layout="row"
               layout-align="center center">
            <div>
              <md-checkbox ng-model="todo.completed"
                           ng-click="vm.saveTodo()"></md-checkbox>
            </div>
            <div flex
                 ng-class="{'completed': todo.completed}">
              <p>{{todo.label}}</p>
            </div>
            <div flex>
              <p>{{todo.id | date:'dd MMM : hh:mm'}}</p>
            </div>
            <md-button class="md-fab md-mini"
                       ng-click="vm.removeTodo($index)">
              <md-icon class="mdi mdi-delete mdi-24px"></md-icon>
            </md-button>
          </div>
        </md-list-item>
      </md-list>
    </md-whiteframe>

  </div>
  <pre> {{ vm | json}}</pre>
</div>
